---
title: "Database"
description: "Add dynamic data to your websites with built-in database"
---

## Overview

AISiteBuilder includes a built-in PostgreSQL database for storing and managing dynamic data. No external database service required.

## Creating tables

### Using AI

The easiest way to create database tables is through conversation:

```text
Add a database table for blog posts with:
- title (text)
- content (long text)
- author (text)
- published_date (date)
- featured_image (image URL)
```

AI will create the table and generate the necessary code to interact with it.

### Manual creation

Create tables in the database settings:

1. Go to **Project Settings â†’ Database**
2. Click **Add Table**
3. Define table name and columns
4. Set data types and constraints
5. Save the table

## Data types

Supported column types:

| Type | Description | Example |
|------|-------------|---------|
| `text` | Short text | "Hello World" |
| `longtext` | Long text content | Blog post content |
| `integer` | Whole numbers | 42 |
| `decimal` | Decimal numbers | 19.99 |
| `boolean` | True/false | true |
| `date` | Date only | 2025-01-15 |
| `datetime` | Date and time | 2025-01-15 14:30:00 |
| `json` | JSON data | {"key": "value"} |
| `uuid` | Unique identifier | Auto-generated |

## Working with data

### Inserting data

Add data through your website interface or directly in settings:

```javascript
// AI generates code like this
await db.insert('posts', {
  title: 'My First Post',
  content: 'This is the content...',
  author: 'John Doe',
  published_date: new Date()
});
```

### Querying data

Retrieve data from your tables:

```javascript
// Get all posts
const posts = await db.select('posts');

// Get specific post
const post = await db.selectOne('posts', { id: 1 });

// Filter results
const recentPosts = await db.select('posts', {
  where: { published: true },
  orderBy: 'published_date DESC',
  limit: 10
});
```

### Updating data

Modify existing records:

```javascript
await db.update('posts', 
  { id: 1 },
  { title: 'Updated Title' }
);
```

### Deleting data

Remove records:

```javascript
await db.delete('posts', { id: 1 });
```

## Relationships

### One-to-many

Link tables together:

```text
Create a comments table linked to posts:
- post_id (foreign key to posts)
- author_name (text)
- comment_text (text)
- created_at (datetime)
```

### Many-to-many

Create junction tables for complex relationships:

```text
Create a tagging system:
- tags table (id, name)
- post_tags table (post_id, tag_id)
```

## Database management

### Viewing data

Browse your database in settings:

- View all tables
- See table contents
- Filter and search data
- Export to CSV

### Editing data

Modify data directly:

- Edit individual records
- Bulk updates
- Delete records
- Import from CSV

### Schema changes

Modify table structure:

- Add columns
- Remove columns
- Change data types
- Add indexes

<Warning>
  Schema changes may affect existing data. Always backup before major changes.
</Warning>

## Backups

### Automatic backups

Daily backups are created automatically:

- Last 7 days retained
- Stored securely
- One-click restore

### Manual backups

Create backups before important changes:

1. Go to **Database Settings**
2. Click **Create Backup**
3. Add description
4. Backup is created instantly

### Restoring backups

Revert to a previous state:

1. View backup history
2. Select backup to restore
3. Preview backup contents
4. Confirm restoration

## Security

### Access control

Database access is automatically secured:

- Server-side only access
- No direct client access
- Encrypted connections
- Row-level security

### Authentication integration

Restrict data by user:

```javascript
// Only show user's own posts
const myPosts = await db.select('posts', {
  where: { user_id: currentUser.id }
});
```

## Performance

### Indexing

Improve query performance:

- Automatic indexes on primary keys
- Add indexes to frequently queried columns
- Composite indexes for complex queries

### Query optimization

Best practices:

- Use specific queries instead of selecting all data
- Limit results when possible
- Use pagination for large datasets
- Cache frequently accessed data

## Common patterns

### Blog posts

```sql
CREATE TABLE posts (
  id UUID PRIMARY KEY,
  title TEXT NOT NULL,
  slug TEXT UNIQUE,
  content TEXT,
  author_id UUID,
  published BOOLEAN DEFAULT false,
  published_at TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);
```

### User profiles

```sql
CREATE TABLE profiles (
  id UUID PRIMARY KEY,
  user_id UUID UNIQUE,
  display_name TEXT,
  bio TEXT,
  avatar_url TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

### E-commerce products

```sql
CREATE TABLE products (
  id UUID PRIMARY KEY,
  name TEXT NOT NULL,
  description TEXT,
  price DECIMAL(10,2),
  stock INTEGER DEFAULT 0,
  image_url TEXT,
  category TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

## Troubleshooting

<AccordionGroup>
  <Accordion title="Connection errors">
    If you see database connection errors:
    - Check your internet connection
    - Verify database is enabled in settings
    - Try refreshing the page
  </Accordion>

  <Accordion title="Query performance issues">
    For slow queries:
    - Add indexes to frequently queried columns
    - Limit result sets
    - Use pagination
    - Check query complexity
  </Accordion>

  <Accordion title="Data not appearing">
    If data isn't showing:
    - Verify data was inserted successfully
    - Check query filters
    - Ensure proper authentication
    - Review error logs
  </Accordion>
</AccordionGroup>
